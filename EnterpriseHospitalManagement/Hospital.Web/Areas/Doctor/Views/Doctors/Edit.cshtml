@model Hospital.Models.Timing
@{
    ViewData["Title"] = "Edit Timing";
    var hours = Enumerable.Range(0, 24).Select(h => new Microsoft.AspNetCore.Mvc.Rendering.SelectListItem
    {
        Value = h.ToString(),
        Text  = $"{h:00}:00"
    }).ToList();
}

<div class="page-header">
    <h2>Edit Timing Slot</h2>
    <a asp-action="Index" class="btn btn-outline-secondary btn-sm">
        <i class="fas fa-arrow-left mr-1"></i>Back
    </a>
</div>

<div class="card shadow-sm p-4" style="max-width:560px;">
    <form asp-action="Edit" method="post">
        <input type="hidden" asp-for="Id" />
        <input type="hidden" asp-for="DoctorId" />
        <div asp-validation-summary="ModelOnly" class="alert alert-danger py-2"></div>

        <div class="form-group">
            <label asp-for="ScheduleDate">Schedule Date</label>
            <input asp-for="ScheduleDate" type="date" class="form-control" />
            <span asp-validation-for="ScheduleDate" class="text-danger small"></span>
        </div>

        <p class="font-weight-700 text-muted small text-uppercase mt-3 mb-2">
            <i class="fas fa-sun mr-1"></i>Morning Shift
        </p>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label asp-for="MorningShiftStartTime">Start</label>
                <select asp-for="MorningShiftStartTime" asp-items="hours" class="form-control"></select>
            </div>
            <div class="form-group col-md-6">
                <label asp-for="MorningShiftEndTime">End</label>
                <select asp-for="MorningShiftEndTime" asp-items="hours" class="form-control"></select>
            </div>
        </div>

        <p class="font-weight-700 text-muted small text-uppercase mt-2 mb-2">
            <i class="fas fa-cloud-sun mr-1"></i>Afternoon Shift
        </p>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label asp-for="AfternoonShiftStartTime">Start</label>
                <select asp-for="AfternoonShiftStartTime" asp-items="hours" class="form-control"></select>
            </div>
            <div class="form-group col-md-6">
                <label asp-for="AfternoonShiftEndTime">End</label>
                <select asp-for="AfternoonShiftEndTime" asp-items="hours" class="form-control"></select>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                <label asp-for="Duration">Slot Duration (minutes)</label>
                <input asp-for="Duration" class="form-control" type="number" min="5" max="120" />
                <span asp-validation-for="Duration" class="text-danger small"></span>
            </div>
            <div class="form-group col-md-6">
                <label asp-for="Status">Status</label>
                <select asp-for="Status" class="form-control"
                        asp-items="Html.GetEnumSelectList<Hospital.Models.Enums.Status>()">
                </select>
            </div>
        </div>

        <div class="mt-3">
            <button type="submit" class="btn btn-primary mr-2">
                <i class="fas fa-save mr-1"></i>Save
            </button>
            <a asp-action="Index" class="btn btn-outline-secondary">Cancel</a>
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
